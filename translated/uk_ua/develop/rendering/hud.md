---
title: Промальовування в HUD
description: Давайте-но навчімося використовувати подію HudRenderCallback для промальовування у HUD.
authors:
  - IMB11
---

Ми вже коротко торкалися промальовування речей у hud на сторінці [основних концепцій промальовування](./basic-concepts) і [використання контексту малювання](./draw-context), тому на цій сторінці ми дотримуватимемося події `HudRenderCallback` і параметра `tickDelta`.

## HudRenderCallback {#hudrendercallback}

Подія `HudRenderCallback`, надана API Fabric, викликається в кожному кадрі та використовується для промальовування речей у HUD.

Щоб зареєструватися на цю подію, ви можете просто викликати `HudRenderCallback.EVENT.register` і передати лямбда-вираз, який приймає екземпляри `DrawContext` і `RenderTickCounter` як параметри.

Контекст малювання можна використовувати для доступу до різноманітних утиліт промальовування, які надає гра, і доступу до стеку необроблених матриць.

Перегляньте сторінку [контекст малювання](./draw-context), щоб дізнатися більше про контекст малювання.

### Промальовування лічильника тактів {#render-tick-counter}

Клас `RenderTickCounter` дозволяє отримати поточне значення `tickDelta`.

`tickDelta` — це «прогрес» між останнім ігровим тактом і наступним.

Наприклад, якщо ми припустимо сценарій 200 FPS, гра запускає новий такт приблизно кожні 10 кадрів. Кожен кадр, `tickDelta`, представляє, наскільки ми знаходимося між останнім тактом і наступним. Понад 10 кадрів ви можете побачити:

| Кадр | tickDelta                                                |
| ---- | -------------------------------------------------------- |
| 1    | `1.0` (новий такт)                    |
| 2    | `0.11 (1÷9)` - Наступний такт в 9 кадрі. |
| 3    | `0.22 (2÷9)`                                             |
| 4    | `0.33 (3÷9)`                                             |
| 5    | `0.44 (4÷9)`                                             |
| 6    | `0.55 (5÷9)`                                             |
| 7    | `0.66 (6÷9)`                                             |
| 8    | `0.77 (7÷9)`                                             |
| 9    | `0.88 (8÷9)`                                             |
| 10   | `1.0 (9÷9)` (новий такт)              |

На практиці ви повинні використовувати `tickDelta` лише тоді, коли ваша анімація залежить від тактів Minecraft. Для анімації на основі часу використовуйте `Util.getMeasuringTimeMs()`, який вимірює реальний час.

Ви можете отримати `tickDelta` за допомогою функції `renderTickCounter.getTickDelta(false);`, де логічним параметром є `ignoreFreeze`, що, по суті, дозволяє вам просто ігнорувати, коли гравці використовують команду `/tick freeze`.

У цьому прикладі ми використаємо `Util.getMeasuringTimeMs()` для лінійної інтерполяції кольору квадрата, який промальовується на HUD.

@[code lang=java transcludeWith=:::1](@/reference/latest/src/client/java/com/example/docs/rendering/HudRenderingEntrypoint.java)

![Зміна кольору з часом](/assets/develop/rendering/hud-rendering-deltatick.webp)

Чому б вам не спробувати використати `tickDelta` і подивитися, що відбувається з анімацією, коли ви виконуєте команду `/tick freeze`? Ви повинні побачити зависання анімації, коли `tickDelta` стане постійним (припустимо, що ви передали `false` як параметр для `RenderTickCounter#getTickDelta`)
