---
title: Собственная броня
description: Вы узнаете как создавать собственные комплекты брони.
authors:
  - IMB11
---

# Собственная броня {#custom-armor}

Броня дает игроку повышенную защиту от атак мобов и других игроков.

## Создание класса для материалов брони {#creating-an-armor-materials-class}

Материалы брони, как и предметы и блоки, необходимо регистрировать. Создадим класс `ModArmorMaterials` для организации хранения наших материалов для брони.

Вам нужно будет добавить статический метод `initialize()` к этому классу и вызвать его из точки входа вашего мода, чтобы зарегистрировать материалы.

```java
// Within the ModArmorMaterials class
public static void initialize() {};
```

:::warning
Убедитесь, что вызываете этот метод **до** регистрации предметов, так как материалы должны регистрироваться до создания предметов.
:::

```java
@Override
public void onInitialize() {
  ModArmorMaterials.initialize();
}
```

---

Внутри класса `ModArmorMaterials` необходимо создать статический метод для регистрации материалов брони. Этот метод должен возвращать запись материала в реестре, которая в дальнейшем будет использована в конструкторе `ArmorItem` для создания предмета брони.

@[code transcludeWith=:::1](@/reference/latest/src/main/java/com/example/docs/item/armor/ModArmorMaterials.java)

## Свойства материала брони {#armor-material-properties}

:::tip
Если вам сложно оценить значение любого из этих свойств, рассмотрите возможность изучения стандартных материалов брони в классе `ArmorMaterials`.
:::

При создании материала брони вам необходимо определить следующие свойства:

### Очки защиты {#defense-points}

:::warning
Обязательно укажите стоимость каждого типа доспехов, которые вы планируете создать, и зарегистрируйте их как предмет. Если вы создадите предмет для брони без установленного значения очков защиты, игра сломается, а в следствии вылетит.
:::

Карта `defensePoints` используется для определения количества очков защиты, которые будет обеспечивать каждая часть брони. Чем выше число, тем большую защиту обеспечит элемент брони. Карта должна содержать запись для каждого типа доспехов.

### Зачарования {#enchantability}

Свойство «зачаровываемость» определяет, насколько легко можно зачаровать доспехи. Чем выше число, тем больше чар может получить броня.

### Звук экипировки {#equip-sound}

Свойство `equipSound` — это звук, который будет воспроизводиться при надевании доспехов. Этот звук должен быть записью реестра `SoundEvent`. Если вы планируете создавать собственные звуки, а не полагаться на стандартные звуки в классе `SoundEvents`, рассмотрите возможность заглянуть на страницу [Пользовательские звуковые события](../sounds/custom).

### Ингредиент(ы) для ремонта {#repair-ingredient}

Свойство `repairIngredientSupplier` является поставщиком `Ингредиента`, который используется для ремонта брони. Этот ингредиент может быть практически любым, рекомендуется установить его таким же, как ингредиент материала, который использовался для изготовления самих предметов брони.

### Прочность {#toughness}

Свойство «прочность» определяет, какой урон может поглотить броня. Чем выше число, тем больше урона поглотит броня.

### Сопротивление отбрасыванию {#knockback-resistance}

Свойство «Сопротивление отбрасыванию» определяет, насколько сильно отбрасывает игрока при ударе. Чем выше число, тем меньше отбрасывание получит игрок.

### Окрашиваемый {#dyeable}

Свойство `dyeable` — это логическое значение, определяющее, можно ли красить броню. Если установлено значение `true`, броню можно красить с помощью красителей на верстаке.

Если вы решили сделать свою броню окрашиваемой, то слои брони и текстуры предметов должны быть **предназначены для окрашивания**, поскольку краска будет накладываться на текстуру, а не заменять ее. Взгляните, например, на классическую кожаную броню из Minecraft: текстуры выполнены в оттенках серого, а краска нанесена поверх нее, из-за чего броня меняет цвет.

## Регистрация материала брони {#registering-the-armor-material}

Теперь, когда вы создали вспомогательный метод, который можно использовать для регистрации материалов брони, вы можете зарегистрировать свои собственные материалы брони как статическое поле в классе `ModArmorMaterials`.

Для этого примера мы создадим броню Guidite со следующими свойствами:

@[code transcludeWith=:::2](@/reference/latest/src/main/java/com/example/docs/item/armor/ModArmorMaterials.java)

## Создание предметов брони {#creating-the-armor-items}

Теперь, когда вы зарегистрировали материал, вы можете создать предметы брони в своем классе `ModItems`:

Очевидно, что комплект брони необязательно должен включать все типы предметов, вы можете иметь комплект, состоящий только из ботинок, штанов и т.д. — классический черепаший панцирь — хороший пример комплекта брони с отсутствующими слотами.

### Долговечность {#durability}

В отличие от `ToolMaterial`, `ArmorMaterial` не хранит никакой информации о прочности предметов.
По этой причине прочность необходимо вручную добавлять в «Item.Settings» предметов брони при их регистрации.

Это достигается с помощью метода `maxDamage` в классе `Item.Settings`.
Различные слоты брони имеют разную базовую прочность, которая обычно умножается на общий множитель материала брони, но можно использовать и жестко запрограммированные значения.

Для брони Guidite мы будем использовать общий множитель брони, хранящийся вместе с материалом брони:

@[code transcludeWith=:::3](@/reference/latest/src/main/java/com/example/docs/item/armor/ModArmorMaterials.java)

Затем мы можем создать предметы брони, используя константу прочности:

@[code transcludeWith=:::6](@/reference/latest/src/main/java/com/example/docs/item/ModItems.java)

Вам также потребуется **добавить предметы в группу предметов**, если вы хотите, чтобы они были доступны из творческого инвентаря.

Как и для всех элементов, для них также следует создать ключи перевода.

## Текстурирование и моделирование {#texturing-and-modelling}

Вам нужно будет создать два набора текстур:

- Текстуры и модели самих предметов.
- Фактическая текстура брони, которая видна, когда существо носит броню.

### Текстуры и модели предметов {#item-textures-and-model}

Эти текстуры ничем не отличаются от других предметов — вам необходимо создать текстуры и создать общую сгенерированную модель предмета, что было рассмотрено в руководстве [Создание вашего первого предмета](./first-item#adding-a-texture-and-model).

В качестве примера вы можете использовать следующие текстуры и модель JSON в качестве справочного материала.

<DownloadEntry type="Item Textures" visualURL="/assets/develop/items/armor_0.png" downloadURL="/assets/develop/items/example_armor_item_textures.zip" />

:::info
Вам понадобятся файлы моделей JSON для всех предметов, а не только для шлема, принцип тот же, что и для других моделей предметов.
:::

@[code](@/reference/latest/src/main/resources/assets/fabric-docs-reference/models/item/guidite_helmet.json)

Как видите, в игре предметы брони должны иметь подходящие модели:

![Модели предметов брони](/assets/develop/items/armor_1.png)

## Текстуры и модели брони {#armor-textures-and-model}

Когда сущность носит вашу броню, в настоящее время отображается отсутствующая текстура:

![Сломанная модель брони на игроке](/assets/develop/items/armor_2.png).

Для текстуры брони есть два слоя, оба должны присутствовать.

Поскольку в нашем случае имя материала брони — `guidite`, то расположение текстур будет следующим:

- `assets/<mod-id>/textures/models/armor/guidite_layer_1.png`
- `assets/<mod-id>/textures/models/armor/guidite_layer_2.png`

<DownloadEntry type="Armor Model Textures" noVisualURL="true" downloadURL="/assets/develop/items/example_armor_layer_textures.zip" />

Первый слой содержит текстуры для шлема и нагрудника, а второй слой содержит текстуры для штанов и ботинок.

При наличии этих текстур вы сможете увидеть свою броню на существах, которые ее носят:

![Рабочая модель брони на игроке](/assets/develop/items/armor_3.png).
