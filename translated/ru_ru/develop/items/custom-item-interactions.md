---
title: Собственные интерактивные предметы
description: Вы научитесь создавать предметы, которые используют ванильные события.
authors:
  - IMB11
---

# Собственные интерактивные предметы {#custom-item-interactions}

Базовые предметы могут зайти так далеко, что вы можете добавить предмет, который имеет интерактивность с миром при использовании.

Есть несколько ключевых классов которые вы должны понять, прежде чем будете рассматривать события с ванильными предметами.

## TypedActionResult {#typedactionresult}

Для предметов более распространённым `TypedActionResult` является `ItemStacks` - этот класс говорит игре, что нужно заменять (или не заменять) после того, как событие произошло.

Если в событие ничего не произошло, вам нужно будет использовать метод `TypedActionResult#pass(stack)`, где `stack` это текущий стек предметов.

Вы можете получить текущий стек предметов, получая стек из руки игрока. Обычно события, требующие `TypedActionResult`, передают эту функцию методу события.

```java
TypedActionResult.pass(user.getStackInHand(hand))
```

Если вы передадите текущий стек, тогда ничего не изменится, независимо от того, объявите ли вы событие неудавшимся, прошедшим/проигнорируемым или успехом.

Если вы хотите удалить текущий стек, вам следует передать пустой. То же самое сказать про уменьшение, вы извлекаете текущий стек и уменьшаете его на количество которое вы хотите:

```java
ItemStack heldStack = user.getStackInHand(hand);
heldStack.decrement(1);
TypedActionResult.success(heldStack);
```

## ActionResult {#actionresult}

Аналогичным образом, `ActionResult` говорит игре статус события, не смотря было ли оно пройдено/проигнорированно, неудачно или успешно.

## Переопределяемые события {#overridable-events}

К счастью, класс предмета имеет множество методам, которые можно переопределить, чтобы добавить дополнительную функциональность вашим предметам.

:::info
Отличный пример использование этих событие вы можете найти на странице [Воспроизведение SoundEvents](../sounds/using-sounds), где событие `useOnBlock` воспроизводит звук когда игрок кликает правой кнопкой мыши по блоку.
:::

| Метод           | Информация                                                                            |
| --------------- | ------------------------------------------------------------------------------------- |
| `postHit`       | Вызывается когда игрок, ударяет сущность.                             |
| `postMine`      | Вызывается когда игрок, ломает блок.                                  |
| `inventoryTick` | Вызывается каждый тик когда предмет находится в инвентаре.            |
| `onCraft`       | Вызывается когда предмет, создаётся.                                  |
| `useOnBlock`    | Вызывается когда игрок кликает правой кнопкой мыши предметом на блок. |
| `use`           | Вызывается когда игрок кликает правой кнопкой мыши предметом.         |

## Событие `use()`{#use-event}

Допустим, что вы хотите сделать предмет, который вызывает молнию перед игроком, вам нужно будет создать отдельный класс.

@[code transcludeWith=:::1](@/reference/latest/src/main/java/com/example/docs/item/custom/LightningStick.java)

Событие `use`, вероятно, самое полезное из всех, вы можете использовать это событие, чтобы призвать молнию, вы должны создать её перед игроками в 10 блоков от направления.

@[code transcludeWith=:::2](@/reference/latest/src/main/java/com/example/docs/item/custom/LightningStick.java)

Как обычно, вам необходимо зарегистрировать свой предмет, добавьте модель и текстуру.

Как видите, молния должна появиться в 10 блоках перед вами, игроком.

<VideoPlayer src="/assets/develop/items/custom_items_0.webm" title="Using the Lightning Stick" />
